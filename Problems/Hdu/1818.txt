<html>
<head>
<meta name="keywords" content="HDOJ ACM ICPC OJ C C++ Pascal Java">
<meta http-equiv="Content-Type" content="text/html;charset=gb2312">
<link rel="stylesheet" type="text/css" href="/images/global.css" media="all">
<link rel="stylesheet" type="text/css" href="/css/diyinhead.css" media="all">
<link rel="stylesheet" type="text/css" href="/css/webinhead.css" media="all">
<script src="/js/global.js" type="text/javascript"></script><script src="/js/register.js" type="text/javascript"></script><script src="/js/MathJax/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><title>Problem - 1818</title>
</head>
<body>
<a name="top"></a>
<table align="center" cellspacing="0" cellpadding="0" width="980" border="0" style="word-wrap:break-word">
<tr>
	<td style="border:#1A5CC8 1px solid" align="center" width="100%">
		<a href="/">
			<img src="/images/banner.jpg" width="100%" height="116" border="0">
		</a>
	</td>
</tr>
<tr>
	<td style="border:#1A5CC8 1px solid">
	<table cellspacing="0" cellpadding="1" width="979px">
	<tr bgcolor="#1A5CC8" align="center" class="banner" height="25">
		<td>Online Judge</td>
		<td>Online Exercise</td>
		<td>Online Teaching</td>
		<td>Online Contests</td>
	<td>Exercise Author</td>
	</tr>
	<tr style="font-size:16px" align="center">
		<td width="20%" valign="top">
		<a href="/faq.php" style="text-decoration: none">F.A.Q</a><br>
		<a href="/friends" style="text-decoration: none">Hand In Hand</a><br>
		<a href="/onlineuser.php" style="text-decoration: none">Online Acmers</a>	<br>
		<!-- /onlineuser.php-->
		
		<a href="/forum" style="text-decoration: none">Forum | </a><a href="/discuss/public/list.php" style="text-decoration: none">Discuss</a><br>
		<a href="/statistic/submit_graph.php" style="text-decoration: none">Statistical Charts</a><br>
		</td>
		<td width="20%" valign="top">
		<form action="/search.php" method="get">
		<a href="/listproblem.php?vol=1" style="text-decoration: none">Problem Archive</a><br>
		<!--<a href="http://feeds.feedburner.com/Hdoj-problemset"><img src="/images/rss1.jpg" alt="problemset" style="vertical-align:text-bottom;"width=20 height=20></a><br>-->
		<!--
			 <a href="/submit.php">Submit Solution</a><br>
		-->	
		<a href="/status.php" style="text-decoration: none">Realtime Judge Status</a><br>

		<a href="/ranklist.php" style="text-decoration: none">Authors Ranklist</a><br>
		<input name="field" value="author" type="hidden"><input class="text60" name="key">&#160;<input class="button40" type="submit" value="Search">
		
		<!--
			<input name=field value=problem type=hidden><input class=text60 name=key>&nbsp;<input class=button40 type=submit value=Search>
		-->
		</form>
		</td>
		<td width="20%" valign="top">
		 <form action="/search.php" method="get"> 
		&#160;&#160;&#160;&#160;&#160;<a style="text-decoration: none" href="http://code.hdu.edu.cn/">C/C++/Java Exams &#160;&#160;&#160;&#160;</a><br>
		<a style="text-decoration: none" href="/game">ACM Steps</a><br>
		<a href="/ITJobs/">Go to Job</a><br>	
		<a href="/livecast" style="text-decoration: none">Contest LiveCast</a><br>
		<a style="text-decoration: none" href="/region">ICPC@China</a><br>
		<!-- <a href="/register.php">Register New Author</a><br> -->
		<!-- <a href="/modifyuser.php">Update Your Information</a><br> -->
		</form>
		</td>
		<td width="20%" valign="top">
		<a href="http://bestcoder.hdu.edu.cn" style="text-decoration: none; color: red; font-weight: bold;">Best Coder <sup style="color: gray;">beta</sup></a><br><a href="/vip/contest_list.php" style="text-decoration: none">VIP</a> | <a href="/contests/contest_list.php" style="text-decoration: none">STD Contests</a><br><a href="http://code.hdu.edu.cn/vcontest" style="text-decoration: none">Virtual Contests </a><br>&#160;&#160;<a href="/diy/contest_list.php" style="text-decoration: none">&#160;&#160;DIY | </a><a href="/webcontest" style="text-decoration: none"><font color="">Web-DIY</font> <font size="1" color="gray"><sup>beta</sup></font></a><br><a style="text-decoration: none" href="/recentcontest">Recent Contests</a><br>		</td>
		<td width="20%">
					<form method="post" action="/userloginex.php?action=login">
			  <table width="168" border="0" align="center" cellspacing="0">
			  	<tr><td align="center" colspan="2"><a href="/qqlogin/oauth/login.php"><img src="/qqlogin/images/qqlogin.png" border="0"></a></td></tr>
				<tr>
<td width="68">Author ID&#160;</td>
<td align="right"><input name="username" type="text" class="text90" maxlength="20"></td>
</tr>
				<tr>
<td>Password&#160;</td>
<td align="right"><input name="userpass" type="password" class="text90" maxlength="20"></td>
</tr>
			  </table>
			  <input name="login" type="submit" class="button40" value="Sign In">&#160;<a href="/register.php" style="text-decoration: none">Register new ID</a>
			</form>
						</td>
	</tr>
	</table>
	</td>
</tr>
<tr>
	<td>
		<div align="center" id="rollword"><marquee scrollamount="2" width="600" scrolldelay="30" onmouseover="javascript:this.stop();" onmouseout="javascript:this.start();"><b style="margin-right:20px"><a style="color:red" href="http://acm.hdu.edu.cn/discuss/public/post/reply.php?postid=20680&amp;messageid=1&amp;deep=0">New~ 关于举办杭电程序设计竞赛（2014'12）的报名通知
</a>


<a style="color:blue" href="http://bestcoder.hdu.edu.cn/contests/contest_list.php">【比赛提醒】BestCoder 你报名了吗？（点击报名）</a>

<a href="http://bestcoder.hdu.edu.cn/handbook/handbook-v2.0.htm" style="color:blue">【科普】什么是BestCoder？如何参加？</a><br>
</b></marquee></div>	</td>
</tr>
<tr><td align="center">
<h1 style="color:#1A5CC8">It's not a Bug, It's a Feature!</h1>
<font><b><span style="font-family:Arial;font-size:12px;font-weight:bold;color:green">Time Limit: 15000/5000 MS (Java/Others)&#160;&#160;&#160;&#160;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 177&#160;&#160;&#160;&#160;Accepted Submission(s): 93<br></span></b></font><br><br><div class="panel_title" align="left">Problem Description</div> <div class="panel_content">It is a curious fact that consumers buying a new software product generally do not expect the software to be bug-free. Can you imagine buying a car whose steering wheel only turns to the right? Or a CD-player that plays only CDs with country music on them? Probably not. But for software systems it seems to be acceptable if they do not perform as they should do. In fact, many software companies have adopted the habit of sending out patches to fix bugs every few weeks after a new product is released (and even charging money for the patches). <br>Tinyware Inc. is one of those companies. After releasing a new word processing software this summer, they have been producing patches ever since. Only this weekend they have realized a big problem with the patches they released. While all patches fix some bugs, they often rely on other bugs to be present to be installed. This happens because to fix one bug, the patches exploit the special behavior of the program due to another bug. <br><br>More formally, the situation looks like this. Tinyware has found a total of n bugs B = {b1, b2, ..., bn} in their software. And they have released m patches p1, p2, ..., pm. To apply patch pi to the software, the bugs Bi+ in B have to be present in the software, and the bugs Bi- in B must be absent (of course Bi+ ∩ Bi- = Φ). The patch then fixes the bugs Fi- in B (if they have been present) and introduces the new bugs Fi+ in B (where, again, Fi+ ∩ Fi- = Φ). <br><br>Tinyware's problem is a simple one. Given the original version of their software, which contains all the bugs in B, it is possible to apply a sequence of patches to the software which results in a bug- free version of the software? And if so, assuming that every patch takes a certain time to apply, how long does the fastest sequence take? <br><br>
</div>
<div class="panel_bottom">&#160;</div>
<br><div class="panel_title" align="left">Input</div> <div class="panel_content">The input contains several product descriptions. Each description starts with a line containing two integers n and m, the number of bugs and patches, respectively. These values satisfy 1 &lt;= n &lt;= 20 and 1 &lt;= m &lt;= 100. This is followed by m lines describing the m patches in order. Each line contains an integer, the time in seconds it takes to apply the patch, and two strings of n characters each. <br><br>The first of these strings describes the bugs that have to be present or absent before the patch can be applied. The i-th position of that string is a ``+'' if bug bi has to be present, a ``-'' if bug bi has to be absent, and a `` 0'' if it doesn't matter whether the bug is present or not. <br><br>The second string describes which bugs are fixed and introduced by the patch. The i-th position of that string is a ``+'' if bug bi is introduced by the patch, a ``-'' if bug bi is removed by the patch (if it was present), and a ``0'' if bug bi is not affected by the patch (if it was present before, it still is, if it wasn't, is still isn't). <br><br>The input is terminated by a description starting with n = m = 0. This test case should not be processed. <br>
</div>
<div class="panel_bottom">&#160;</div>
<br><div class="panel_title" align="left">Output</div> <div class="panel_content">For each product description first output the number of the product. Then output whether there is a sequence of patches that removes all bugs from a product that has all n bugs. Note that in such a sequence a patch may be used multiple times. If there is such a sequence, output the time taken by the fastest sequence in the format shown in the sample output. If there is no such sequence, output ``Bugs cannot be fixed.''. <br><br>Print a blank line after each test case. <br>
</div>
<div class="panel_bottom">&#160;</div>
<br><div class="panel_title" align="left">Sample Input</div>
<div class="panel_content"><pre><div style="font-family:Courier New,Courier,monospace;">3 3
1 000 00-
1 00- 0-+
2 0-- -++
4 1
7 0-0+ ----
0 0</div></pre></div>
<div class="panel_bottom">&#160;</div>
<br><div class="panel_title" align="left">Sample Output</div>
<div class="panel_content"><pre><div style="font-family:Courier New,Courier,monospace;">Product 1
Fastest sequence takes 8 seconds.

Product 2
Bugs cannot be fixed.</div></pre></div>
<div class="panel_bottom">&#160;</div>
<br><div class="panel_title" align="left">Source</div> <div class="panel_content"> <a href="/search.php?field=problem&amp;key=Southwestern+European+Regional+Contest+1998&amp;source=1&amp;searchmode=source"> Southwestern European Regional Contest 1998 </a> </div> <div class="panel_bottom">&#160;</div>
<br><div class="panel_title" align="left">Recommend</div> <div class="panel_content">linle</div>
<div class="panel_bottom">&#160;</div>
<br><center style="font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8">
<a href="statistic.php?pid=1818">Statistic</a>&#160;|&#160;<a href="submit.php?pid=1818">Submit</a>&#160;|&#160;<a href="./discuss/problem/list.php?problemid=1818">Discuss</a> | <a href="note/note.php?pid=1818">Note</a><br>
</center>
</td></tr>
<tr>
<td>
	<table style="border:#1A5CC8 1px solid; font-size:14px" cellspacing="0" cellpadding="1" width="100%">
	<tr align="center">
		<td class="footer_link" height="45">
<a href="/">Home</a> | <a href="#top">Top</a>
</td>
		<td style="padding:6px">
			Hangzhou Dianzi University Online Judge 3.0<br>
			Copyright &#169; 2005-2014 <a href="mailto:acm@hdu.edu.cn">HDU ACM Team</a>. All Rights Reserved.<br>
			<a href="../about_us/developer.php">Designer &amp; Developer </a>: <a>Wang Rongtao</a>&amp;nbsp<a>LinLe</a>&amp;nbsp<a href="mailto:gjavac@gmail.com">GaoJie</a>&amp;nbsp<a href="mailto:gl8997@gmail.com">GanLu</a><br>
			<span class="pagerunstatus">Total 0.002000(s) query 2, Server time : 2014-12-16 04:11:57, Gzip disabled</span>		</td>
		<td class="footer_link">
			<!-- <a href="javascript:history.go(-1);">Back</a> | <a href="javascript:history.forward();">Forward</a>-->
			<a href="/admin">Administration</a>	
		</td>
	</tr>
	</table>
</td>
</tr>
</table>
</body>
</html>